<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Pythagorean Theorem</title>
    <style>
        :root {
            --primary: #3a86ff;
            --primary-dark: #2667cc;
            --secondary: #ff006e;
            --accent: #8338ec;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #38b000;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--light);
            padding: 0;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
            margin-bottom: 40px;
        }
        
        header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.9;
        }
        
        section {
            margin-bottom: 60px;
            padding: 30px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 2rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        h3 {
            color: var(--accent);
            margin: 20px 0 10px;
            font-size: 1.5rem;
        }
        
        p {
            margin-bottom: 20px;
        }
        
        .formula {
            background-color: #f8f8f8;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.5rem;
            margin: 20px 0;
            border-left: 4px solid var(--primary);
        }
        
        .visualization {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
        }
        
        .triangle-container {
            width: 45%;
            min-width: 300px;
            margin: 0 auto;
        }
        
        .squares-container {
            width: 45%;
            min-width: 300px;
            margin: 0 auto;
        }
        
        .controls {
            background-color: #f8f8f8;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .slider-container {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--dark);
        }
        
        input[type="range"] {
            width: 100%;
            margin-bottom: 10px;
        }
        
        .value-display {
            display: inline-block;
            min-width: 60px;
            text-align: center;
            font-weight: bold;
            color: var(--primary);
        }
        
        .result {
            background-color: var(--light);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid var(--success);
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 40px auto;
        }
        
        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--primary);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
            border-radius: 10px;
        }
        
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: white;
            border: 4px solid var(--secondary);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }
        
        .left {
            left: 0;
            text-align: right;
        }
        
        .right {
            left: 50%;
        }
        
        .left::after {
            right: -14px;
        }
        
        .right::after {
            left: -14px;
        }
        
        .timeline-content {
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .timeline-content h3 {
            margin-top: 0;
            color: var(--secondary);
        }
        
        .applications {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            margin: 30px 0;
        }
        
        .application-card {
            flex: 1 1 300px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .application-card:hover {
            transform: translateY(-5px);
        }
        
        .card-image {
            height: 160px;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark);
            font-size: 2rem;
        }
        
        .card-content {
            padding: 20px;
        }
        
        .calculator-container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .calculator-inputs {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .input-group {
            flex: 1 1 200px;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
        }
        
        footer {
            background-color: var(--dark);
            color: white;
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
        }
        
        .toggle-mode {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--dark);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 100;
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.5rem;
            }
            
            .triangle-container, .squares-container {
                width: 100%;
                margin-bottom: 30px;
            }
            
            .timeline::after {
                left: 31px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            
            .timeline-item::after {
                left: 17px;
            }
            
            .left {
                left: 0;
                text-align: left;
            }
            
            .right {
                left: 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>The Pythagorean Theorem</h1>
            <p>Discover the ancient mathematical principle that revolutionized geometry and continues to be fundamental in mathematics, science, and our daily lives.</p>
        </div>
    </header>
    
    <div class="container">
        <section id="introduction">
            <h2>Introduction</h2>
            <p>The Pythagorean theorem is one of the most famous and useful principles in mathematics. Named after the ancient Greek mathematician and philosopher Pythagoras, this theorem establishes a fundamental relationship between the three sides of a right triangle.</p>
            
            <div class="formula">
                <p>a¬≤ + b¬≤ = c¬≤</p>
                <p><small>where c is the length of the hypotenuse, and a and b are the lengths of the other two sides</small></p>
            </div>
            
            <p>This elegant equation tells us that in any right triangle, the square of the length of the hypotenuse equals the sum of the squares of the lengths of the other two sides. This relationship has profound implications in mathematics and numerous practical applications.</p>
        </section>
        
        <section id="visualization">
            <h2>Interactive Visualization</h2>
            <p>Adjust the lengths of sides a and b to see how the triangle and the areas of the squares change. Watch the Pythagorean theorem in action!</p>
            
            <div class="controls">
                <div class="slider-container">
                    <label for="sideA">Side a: <span id="sideAValue" class="value-display">3</span> units</label>
                    <input type="range" id="sideA" min="1" max="10" value="3" step="0.1">
                </div>
                
                <div class="slider-container">
                    <label for="sideB">Side b: <span id="sideBValue" class="value-display">4</span> units</label>
                    <input type="range" id="sideB" min="1" max="10" value="4" step="0.1">
                </div>
                
                <div class="result" id="result">
                    Hypotenuse (c) = 5.00 units<br>
                    a¬≤ (9) + b¬≤ (16) = c¬≤ (25)
                </div>
            </div>
            
            <div class="visualization">
                <div class="triangle-container">
                    <svg id="triangle" width="100%" height="300" viewBox="0 0 300 300"></svg>
                </div>
                <div class="squares-container">
                    <svg id="squares" width="100%" height="300" viewBox="0 0 300 300"></svg>
                </div>
            </div>
        </section>
        
        <section id="history">
            <h2>Historical Origins</h2>
            <p>While the theorem is named after Pythagoras (570-495 BCE), evidence suggests that the concept was known to earlier civilizations. Let's explore the fascinating history of this mathematical principle.</p>
            
            <div class="timeline">
                <div class="timeline-item left">
                    <div class="timeline-content">
                        <h3>1900-1600 BCE</h3>
                        <p>Babylonian mathematicians were using the principles of the Pythagorean relationship in practical applications, as evidenced by clay tablets containing Pythagorean triples.</p>
                    </div>
                </div>
                
                <div class="timeline-item right">
                    <div class="timeline-content">
                        <h3>Ancient Egypt</h3>
                        <p>Egyptian rope-stretchers used knotted ropes with proportions 3:4:5 to create right angles for construction and surveying, essentially applying the theorem in practice.</p>
                    </div>
                </div>
                
                <div class="timeline-item left">
                    <div class="timeline-content">
                        <h3>6th Century BCE</h3>
                        <p>Pythagoras and his followers in ancient Greece formalized the theorem and provided the first known mathematical proof. The Pythagorean School celebrated the theorem as a cornerstone of their mathematical understanding.</p>
                    </div>
                </div>
                
                <div class="timeline-item right">
                    <div class="timeline-content">
                        <h3>Ancient China</h3>
                        <p>The "Zhoubi Suanjing" text (~1000 BCE) contains a geometric proof of the theorem, showing its independent discovery in Eastern mathematics.</p>
                    </div>
                </div>
                
                <div class="timeline-item left">
                    <div class="timeline-content">
                        <h3>Euclid's Elements</h3>
                        <p>Around 300 BCE, Euclid included the theorem as Proposition 47 in his landmark work "Elements," providing a rigorous geometric proof that remained standard for centuries.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="proofs">
            <h2>Different Proofs</h2>
            <p>Over 350 different proofs of the Pythagorean theorem have been documented throughout history, making it one of the most proven mathematical statements. Here are a few notable approaches:</p>
            
            <h3>Geometric Proof</h3>
            <p>One of the most elegant proofs involves showing that the area of squares constructed on each side of a right triangle demonstrates the relationship a¬≤ + b¬≤ = c¬≤.</p>
            
            <h3>Algebraic Proof</h3>
            <p>Using coordinate geometry and distance formulas, we can derive the theorem through pure algebraic manipulation.</p>
            
            <h3>Proof by Similar Triangles</h3>
            <p>By drawing an altitude from the right angle to the hypotenuse, we create similar triangles that demonstrate the relationship between the sides.</p>
        </section>
        
        <section id="applications">
            <h2>Real-World Applications</h2>
            <p>The Pythagorean theorem has countless practical applications across various fields:</p>
            
            <div class="applications">
                <div class="application-card">
                    <div class="card-image">üìè</div>
                    <div class="card-content">
                        <h3>Architecture & Construction</h3>
                        <p>Used to ensure right angles in building design, verify square corners, and calculate diagonal measurements.</p>
                    </div>
                </div>
                
                <div class="application-card">
                    <div class="card-image">üß≠</div>
                    <div class="card-content">
                        <h3>Navigation</h3>
                        <p>Calculating distances across maps and determining the shortest path between two points.</p>
                    </div>
                </div>
                
                <div class="application-card">
                    <div class="card-image">üì±</div>
                    <div class="card-content">
                        <h3>Computer Graphics</h3>
                        <p>Core algorithm for calculating distances and positions in 2D and 3D spaces, crucial for video games and simulations.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="calculator">
            <h2>Pythagorean Calculator</h2>
            <p>Enter any two sides of a right triangle to calculate the third side.</p>
            
            <div class="calculator-container">
                <div class="calculator-inputs">
                    <div class="input-group">
                        <label for="calcSideA">Side a:</label>
                        <input type="number" id="calcSideA" placeholder="Enter length">
                    </div>
                    
                    <div class="input-group">
                        <label for="calcSideB">Side b:</label>
                        <input type="number" id="calcSideB" placeholder="Enter length">
                    </div>
                    
                    <div class="input-group">
                        <label for="calcSideC">Hypotenuse (c):</label>
                        <input type="number" id="calcSideC" placeholder="Enter length">
                    </div>
                </div>
                
                <button class="btn" id="calculateBtn">Calculate</button>
                <div class="result" id="calcResult">Enter any two values to calculate the third.</div>
            </div>
        </section>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 The Pythagorean Theorem Interactive Guide</p>
        </div>
    </footer>
    
    <script>
        // Initialize values
        let sideA = 3;
        let sideB = 4;
        let hypotenuse = Math.sqrt(sideA * sideA + sideB * sideB);
        
        // DOM elements
        const sideASlider = document.getElementById('sideA');
        const sideBSlider = document.getElementById('sideB');
        const sideAValueDisplay = document.getElementById('sideAValue');
        const sideBValueDisplay = document.getElementById('sideBValue');
        const resultDisplay = document.getElementById('result');
        const triangleSVG = document.getElementById('triangle');
        const squaresSVG = document.getElementById('squares');
        
        // Calculator elements
        const calcSideA = document.getElementById('calcSideA');
        const calcSideB = document.getElementById('calcSideB');
        const calcSideC = document.getElementById('calcSideC');
        const calculateBtn = document.getElementById('calculateBtn');
        const calcResult = document.getElementById('calcResult');
        
        // Draw initial visualizations
        drawTriangle();
        drawSquares();
        
        // Event listeners for sliders
        sideASlider.addEventListener('input', updateValues);
        sideBSlider.addEventListener('input', updateValues);
        
        // Calculator button event listener
        calculateBtn.addEventListener('click', calculateSide);
        
        function updateValues() {
            sideA = parseFloat(sideASlider.value);
            sideB = parseFloat(sideBSlider.value);
            hypotenuse = Math.sqrt(sideA * sideA + sideB * sideB);
            
            sideAValueDisplay.textContent = sideA.toFixed(1);
            sideBValueDisplay.textContent = sideB.toFixed(1);
            
            resultDisplay.innerHTML = `Hypotenuse (c) = ${hypotenuse.toFixed(2)} units<br>
                                     a¬≤ (${(sideA * sideA).toFixed(2)}) + b¬≤ (${(sideB * sideB).toFixed(2)}) = c¬≤ (${(hypotenuse * hypotenuse).toFixed(2)})`;
            
            drawTriangle();
            drawSquares();
        }
        
        function drawTriangle() {
            // Scale factors to fit SVG viewBox
            const scale = 200 / Math.max(10, sideA + sideB);
            const offsetX = 50;
            const offsetY = 250;
            
            // Calculate coordinates
            const ax = offsetX;
            const ay = offsetY;
            const bx = offsetX + sideA * scale;
            const by = offsetY;
            const cx = offsetX;
            const cy = offsetY - sideB * scale;
            
            // Clear previous drawing
            triangleSVG.innerHTML = '';
            
            // Draw coordinate system
            const xAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            xAxis.setAttribute("x1", "30");
            xAxis.setAttribute("y1", offsetY);
            xAxis.setAttribute("x2", "270");
            xAxis.setAttribute("y2", offsetY);
            xAxis.setAttribute("stroke", "#ccc");
            xAxis.setAttribute("stroke-width", "1");
            triangleSVG.appendChild(xAxis);
            
            const yAxis = document.createElementNS("http://www.w3.org/2000/svg", "line");
            yAxis.setAttribute("x1", offsetX);
            yAxis.setAttribute("y1", "270");
            yAxis.setAttribute("x2", offsetX);
            yAxis.setAttribute("y2", "30");
            yAxis.setAttribute("stroke", "#ccc");
            yAxis.setAttribute("stroke-width", "1");
            triangleSVG.appendChild(yAxis);
            
            // Draw triangle
            const triangle = document.createElementNS("http://www.w3.org/2000/svg", "path");
            triangle.setAttribute("d", `M${ax},${ay} L${bx},${by} L${cx},${cy} Z`);
            triangle.setAttribute("fill", "rgba(58, 134, 255, 0.2)");
            triangle.setAttribute("stroke", "#3a86ff");
            triangle.setAttribute("stroke-width", "2");
            triangleSVG.appendChild(triangle);
            
            // Draw right angle indicator
            const rightAngle = document.createElementNS("http://www.w3.org/2000/svg", "path");
            const raSize = 15;
            rightAngle.setAttribute("d", `M${ax},${ay - raSize} L${ax},${ay} L${ax + raSize},${ay}`);
            rightAngle.setAttribute("fill", "none");
            rightAngle.setAttribute("stroke", "#ff006e");
            rightAngle.setAttribute("stroke-width", "2");
            triangleSVG.appendChild(rightAngle);
            
            // Side labels
            // Side A
            const sideALabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            sideALabel.setAttribute("x", (ax + bx) / 2);
            sideALabel.setAttribute("y", ay + 20);
            sideALabel.setAttribute("text-anchor", "middle");
            sideALabel.setAttribute("fill", "#3a86ff");
            sideALabel.textContent = `a = ${sideA.toFixed(1)}`;
            triangleSVG.appendChild(sideALabel);
            
            // Side B
            const sideBLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            sideBLabel.setAttribute("x", ax - 20);
            sideBLabel.setAttribute("y", (ay + cy) / 2);
            sideBLabel.setAttribute("text-anchor", "middle");
            sideBLabel.setAttribute("fill", "#3a86ff");
            sideBLabel.setAttribute("transform", `rotate(-90, ${ax - 20}, ${(ay + cy) / 2})`);
            sideBLabel.textContent = `b = ${sideB.toFixed(1)}`;
            triangleSVG.appendChild(sideBLabel);
            
            // Hypotenuse
            const hypotenuseLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            hypotenuseLabel.setAttribute("x", (bx + cx) / 2);
            hypotenuseLabel.setAttribute("y", (by + cy) / 2 - 10);
            hypotenuseLabel.setAttribute("text-anchor", "middle");
            hypotenuseLabel.setAttribute("fill", "#ff006e");
            hypotenuseLabel.textContent = `c = ${hypotenuse.toFixed(2)}`;
            triangleSVG.appendChild(hypotenuseLabel);
        }
        
        function drawSquares() {
            // Scale factors to fit SVG viewBox
            const maxSize = Math.max(sideA, sideB, hypotenuse);
            const scale = 100 / Math.max(10, maxSize);
            
            // Clear previous drawing
            squaresSVG.innerHTML = '';
            
            // Square A
            const squareA = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            squareA.setAttribute("x", 20);
            squareA.setAttribute("y", 20);
            squareA.setAttribute("width", sideA * scale);
            squareA.setAttribute("height", sideA * scale);
            squareA.setAttribute("fill", "rgba(58, 134, 255, 0.3)");
            squareA.setAttribute("stroke", "#3a86ff");
            squareA.setAttribute("stroke-width", "2");
            squaresSVG.appendChild(squareA);
            
            // Square A label
            const labelA = document.createElementNS("http://www.w3.org/2000/svg", "text");
            labelA.setAttribute("x", 20 + (sideA * scale) / 2);
            labelA.setAttribute("y", 20 + (sideA * scale) / 2);
            labelA.setAttribute("text-anchor", "middle");
            labelA.setAttribute("dominant-baseline", "middle");
            labelA.setAttribute("fill", "#3a86ff");
            labelA.textContent = `a¬≤ = ${(sideA * sideA).toFixed(2)}`;
            squaresSVG.appendChild(labelA);
            
            // Square B
            const squareB = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            squareB.setAttribute("x", 20);
            squareB.setAttribute("y", 40 + sideA * scale);
            squareB.setAttribute("width", sideB * scale);
            squareB.setAttribute("height", sideB * scale);
            squareB.setAttribute("fill", "rgba(131, 56, 236, 0.3)");
            squareB.setAttribute("stroke", "#8338ec");
            squareB.setAttribute("stroke-width", "2");
            squaresSVG.appendChild(squareB);
            
            // Square B label
            const labelB = document.createElementNS("http://www.w3.org/2000/svg", "text");
            labelB.setAttribute("x", 20 + (sideB * scale) / 2);
            labelB.setAttribute("y", 40 + sideA * scale + (sideB * scale) / 2);
            labelB.setAttribute("text-anchor", "middle");
            labelB.setAttribute("dominant-baseline", "middle");
            labelB.setAttribute("fill", "#8338ec");
            labelB.textContent = `b¬≤ = ${(sideB * sideB).toFixed(2)}`;
            squaresSVG.appendChild(labelB);
            
            // Square C (hypotenuse squared)
            const squareC = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            squareC.setAttribute("x", 150);
            squareC.setAttribute("y", 40);
            squareC.setAttribute("width", hypotenuse * scale);
            squareC.setAttribute("height", hypotenuse * scale);
            squareC.setAttribute("fill", "rgba(255, 0, 110, 0.3)");
            squareC.setAttribute("stroke", "#ff006e");
            squareC.setAttribute("stroke-width", "2");
            squaresSVG.appendChild(squareC);
            
            // Square C label
            const labelC = document.createElementNS("http://www.w3.org/2000/svg", "text");
            labelC.setAttribute("x", 150 + (hypotenuse * scale) / 2);
            labelC.setAttribute("y", 40 + (hypotenuse * scale) / 2);
            labelC.setAttribute("text-anchor", "middle");
            labelC.setAttribute("dominant-baseline", "middle");
            labelC.setAttribute("fill", "#ff006e");
            labelC.textContent = `c¬≤ = ${(hypotenuse * hypotenuse).toFixed(2)}`;
            squaresSVG.appendChild(labelC);
            
            // Equal sign
            const equalSign = document.createElementNS("http://www.w3.org/2000/svg", "text");
            equalSign.setAttribute("x", 120);
            equalSign.setAttribute("y", 150);
            equalSign.setAttribute("text-anchor", "middle");
            equalSign.setAttribute("dominant-baseline", "middle");
            equalSign.setAttribute("fill", "#212529");
            equalSign.setAttribute("font-size", "24");
            equalSign.textContent = "=";
            squaresSVG.appendChild(equalSign);
            
            // Plus sign
            const plusSign = document.createElementNS("http://www.w3.org/2000/svg", "text");
            plusSign.setAttribute("x", 30);
            plusSign.setAttribute("y", 30 + sideA * scale);
            plusSign.setAttribute("text-anchor", "middle");
            plusSign.setAttribute("dominant-baseline", "middle");
            plusSign.setAttribute("fill", "#212529");
            plusSign.setAttribute("font-size", "24");
            plusSign.textContent = "+";
            squaresSVG.appendChild(plusSign);
        }
        
      function calculateSide() {
            const a = parseFloat(calcSideA.value);
            const b = parseFloat(calcSideB.value);
            const c = parseFloat(calcSideC.value);
            
            // Count how many values are provided
            let count = 0;
            if (!isNaN(a)) count++;
            if (!isNaN(b)) count++;
            if (!isNaN(c)) count++;
            
            // We need exactly two values to calculate the third
            if (count !== 2) {
                calcResult.innerHTML = "Please enter exactly two values to calculate the third.";
                calcResult.style.color = "#ff006e";
                return;
            }
            
            // Calculate the missing value
            if (isNaN(a)) {
                // Calculate side a
                if (c <= b) {
                    calcResult.innerHTML = "Invalid triangle: hypotenuse must be greater than side b.";
                    calcResult.style.color = "#ff006e";
                    return;
                }
                const result = Math.sqrt(c * c - b * b);
                calcSideA.value = result.toFixed(2);
                calcResult.innerHTML = `Side a = ${result.toFixed(2)} units`;
                calcResult.style.color = "#38b000";
            } else if (isNaN(b)) {
                // Calculate side b
                if (c <= a) {
                    calcResult.innerHTML = "Invalid triangle: hypotenuse must be greater than side a.";
                    calcResult.style.color = "#ff006e";
                    return;
                }
                const result = Math.sqrt(c * c - a * a);
                calcSideB.value = result.toFixed(2);
                calcResult.innerHTML = `Side b = ${result.toFixed(2)} units`;
                calcResult.style.color = "#38b000";
            } else {
                // Calculate hypotenuse (side c)
                const result = Math.sqrt(a * a + b * b);
                calcSideC.value = result.toFixed(2);
                calcResult.innerHTML = `Hypotenuse (c) = ${result.toFixed(2)} units`;
                calcResult.style.color = "#38b000";
            }
        }
        
        // Add a function to clear all fields
        document.getElementById('calculateBtn').addEventListener('dblclick', function() {
            calcSideA.value = '';
            calcSideB.value = '';
            calcSideC.value = '';
            calcResult.innerHTML = 'Enter any two values to calculate the third.';
            calcResult.style.color = '';
        });
        
        // Add instructions tooltip
        calcResult.insertAdjacentHTML('afterend', '<p><small>Tip: Double-click the Calculate button to reset all fields.</small></p>');
        
        // Create a section for Pythagorean Triples
        const triplesSection = document.createElement('section');
        triplesSection.id = 'pythag-triples';
        triplesSection.innerHTML = `
            <h3>Pythagorean Triples</h3>
            <p>These are sets of three positive integers that satisfy the equation a¬≤ + b¬≤ = c¬≤. Here are some common examples:</p>
            <ul style="columns: 2; margin-bottom: 20px;">
                <li><strong>3, 4, 5</strong> (3¬≤ + 4¬≤ = 9 + 16 = 25 = 5¬≤)</li>
                <li><strong>5, 12, 13</strong> (5¬≤ + 12¬≤ = 25 + 144 = 169 = 13¬≤)</li>
                <li><strong>8, 15, 17</strong> (8¬≤ + 15¬≤ = 64 + 225 = 289 = 17¬≤)</li>
                <li><strong>7, 24, 25</strong> (7¬≤ + 24¬≤ = 49 + 576 = 625 = 25¬≤)</li>
                <li><strong>9, 40, 41</strong> (9¬≤ + 40¬≤ = 81 + 1600 = 1681 = 41¬≤)</li>
                <li><strong>11, 60, 61</strong> (11¬≤ + 60¬≤ = 121 + 3600 = 3721 = 61¬≤)</li>
            </ul>
            <button class="btn" id="applyTripleBtn">Try a Triple</button>
        `;
        
        document.querySelector('#calculator').appendChild(triplesSection);
        
        // Function to apply a random Pythagorean triple to the interactive visualization
        document.getElementById('applyTripleBtn').addEventListener('click', function() {
            const triples = [
                [3, 4, 5],
                [5, 12, 13],
                [8, 15, 17],
                [7, 24, 25],
                [9, 40, 41],
                [11, 60, 61]
            ];
            
            // Select a random triple
            const randomTriple = triples[Math.floor(Math.random() * triples.length)];
            
            // Apply to sliders (limit to max values if needed)
            sideASlider.value = Math.min(randomTriple[0], sideASlider.max);
            sideBSlider.value = Math.min(randomTriple[1], sideBSlider.max);
            
            // Update visualization
            updateValues();
            
            // Scroll to visualization
            document.getElementById('visualization').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Add a "Fun Facts" section
        const factsSection = document.createElement('section');
        factsSection.id = 'fun-facts';
        factsSection.innerHTML = `
            <h2>Fun Facts</h2>
            <ul style="list-style-type: none; padding-left: 0;">
                <li>üî¢ The smallest Pythagorean triple is 3, 4, 5.</li>
                <li>üåü There are infinitely many Pythagorean triples.</li>
                <li>üìê The theorem works in reverse too: if a¬≤ + b¬≤ = c¬≤, then the triangle is a right triangle.</li>
                <li>üß† President James Garfield created his own proof of the Pythagorean theorem in 1876.</li>
                <li>üåç The theorem was discovered independently by several ancient civilizations.</li>
                <li>üìä The distance formula in coordinate geometry is a direct application of the Pythagorean theorem.</li>
            </ul>
        `;
        
        document.querySelector('.container').insertBefore(factsSection, document.querySelector('#calculator'));
        
        // Add a feature to toggle between light and dark mode
        const toggleButton = document.createElement('button');
        toggleButton.className = 'toggle-mode';
        toggleButton.innerHTML = 'üåô';
        toggleButton.title = 'Toggle dark/light mode';
        document.body.appendChild(toggleButton);
        
        // Add dark mode functionality
        toggleButton.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            toggleButton.innerHTML = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
            
            // Update styles based on mode
            if (document.body.classList.contains('dark-mode')) {
                document.documentElement.style.setProperty('--light', '#121212');
                document.documentElement.style.setProperty('--dark', '#f8f9fa');
                document.querySelectorAll('section').forEach(section => {
                    section.style.backgroundColor = '#1e1e1e';
                    section.style.boxShadow = '0 5px 15px rgba(255,255,255,0.1)';
                });
            } else {
                document.documentElement.style.setProperty('--light', '#f8f9fa');
                document.documentElement.style.setProperty('--dark', '#212529');
                document.querySelectorAll('section').forEach(section => {
                    section.style.backgroundColor = 'white';
                    section.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
                });
            }
        });
        
        // Add CSS for dark mode
        const style = document.createElement('style');
        style.textContent = `
            body.dark-mode {
                background-color: #121212;
                color: #f8f9fa;
            }
            
            body.dark-mode .calculator-container,
            body.dark-mode .card-content {
                background-color: #1e1e1e;
                color: #f8f9fa;
            }
            
            body.dark-mode .timeline-content {
                background-color: #1e1e1e;
                color: #f8f9fa;
            }
            
            body.dark-mode input[type="number"],
            body.dark-mode input[type="range"] {
                background-color: #333;
                color: #f8f9fa;
                border-color: #555;
            }
            
            body.dark-mode .controls,
            body.dark-mode .result {
                background-color: #2d2d2d;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>